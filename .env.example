# Environment Configuration for PathSix CRM Backend
# Copy this file to .env and update with your local values

# =============================================================================
# DATABASE
# =============================================================================
# For local development, use SQLite (easy setup, no external dependencies)
DATABASE_URL=sqlite:///app.db

# For production or testing with PostgreSQL:
# DATABASE_URL=postgresql://username:password@localhost:5432/pathsix_crm

# =============================================================================
# SECURITY
# =============================================================================
# Generate a secure key for production: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=rfpikjt7634dvgdihfue7-dev-only

# =============================================================================
# APPLICATION
# =============================================================================
FRONTEND_URL=http://localhost:5173
PORT=8000
MAX_CONTENT_LENGTH=20971520

# =============================================================================
# STORAGE (for file uploads like documents, profile photos, etc.)
# =============================================================================
# Option 1: Local storage (recommended for development)
STORAGE_VENDOR=local
STORAGE_ROOT=./storage

# Option 2: S3-compatible storage (Backblaze B2, AWS S3, etc.) - for production
# STORAGE_VENDOR=s3
# S3_ENDPOINT_URL=https://s3.us-west-002.backblazeb2.com
# S3_REGION=us-west-002
# S3_ACCESS_KEY_ID=your_access_key
# S3_SECRET_ACCESS_KEY=your_secret_key
# S3_BUCKET=your-bucket-name
# S3_FORCE_PATH_STYLE=true

# =============================================================================
# EMAIL (SMTP)
# =============================================================================
# Set these for email features (password reset, notifications, etc.)
# Leave blank to disable email features in development
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_USE_TLS=true
MAIL_FROM_NAME=PathSix CRM
MAIL_FROM_EMAIL=noreply@example.com

# =============================================================================
# ERROR REPORTING
# =============================================================================
# Sentry DSN (optional - leave blank to disable error tracking)
SENTRY_DSN=

# =============================================================================
# LOGGING
# =============================================================================
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
SLOW_QUERY_THRESHOLD_MS=200

# External log aggregation (for production)
# Options: none, logtail, datadog, papertrail
LOG_AGGREGATOR=none
LOG_AGGREGATOR_TOKEN=

# =============================================================================
# CORS
# =============================================================================
# Comma-separated list of allowed origins
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:5174

# =============================================================================
# REDIS (for background jobs)
# =============================================================================
# Only needed if you want to test background jobs or backup features locally
# Install Redis: https://redis.io/download
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# BACKUP SYSTEM (only needed for production or backup testing)
# =============================================================================
# The auto-backup system runs on Fly.io scheduled machines in production
# It won't run automatically in local development - you're safe!

# Backup Storage (Backblaze B2 - separate from document storage)
BACKUP_S3_ENDPOINT_URL=
BACKUP_S3_REGION=us-west-002
BACKUP_S3_ACCESS_KEY_ID=
BACKUP_S3_SECRET_ACCESS_KEY=
BACKUP_S3_BUCKET=

# Backup Encryption & Retention
BACKUP_GPG_PASSPHRASE=
BACKUP_RETENTION_DAYS=30
BACKUP_JOB_TIMEOUT_MINUTES=60
